{"version":3,"sources":["userModel.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"models.js","sourcesContent":["synco.factory('userModel', ['$http', '$cookies', function($http, $cookies) {\n\tvar userModel = {};\n\n\tuserModel.doLogin = function(loginData) \n\t\t{\n\t\t\treturn $http({\t\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t},\n\t\t\t\turl: baseUrl + 'auth',\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tdata: {\n\t\t\t\t\temail: loginData.email,\n\t\t\t\t\tpassword: loginData.password\n\t\t\t\t}\n\t\t\t}).success(function(response) {\n\t\t\t\tconsole.log(response);\n\t\t\t\t$cookies.put('auth', response);\n\t\t\t\t$cookies.put('userName', response.name);\n\t\t\t\t$cookies.put('id', response.id);\n\t\t\t\tconsole.log($cookies.get('userName'));\n\t\t\t}).error(function(data,status,headers) {\n\t\t\t\tconsole.log(data,status,headers);\n\t\t\t\talert(data);\n\t\t\t});\n\t\t};\n\n\tuserModel.getAuthStatus = function() {\n\t\tvar status = $cookies.get('auth');\n\t\tif (status) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tuserModel.getUserName = function() {\n\t\tvar name = $cookies.get('userName');\n\t\tif (name) {\n\t\t\treturn name;\n\t\t}\n\t\telse {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tuserModel.getId = function() {\n\t\tvar id = $cookies.get('id');\n\t\tif (id) {\n\t\t\treturn id;\n\t\t}\n\t\telse {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tuserModel.doUserLogout = function() {\n\t\t$cookies.remove('auth');\n\t\t$cookies.remove('userName');\n\t\t$cookies.remove('id');\n\t}\n\n\treturn userModel;\n}])"],"sourceRoot":"/source/"}