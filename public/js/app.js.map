{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["var synco = angular.module('synco', ['ngRoute', 'ngCookies']);\n\t\n\nsynco.config(['$routeProvider', '$locationProvider',\n\tfunction($routeProvider, $locationProvider) {\n\t\t$routeProvider.when('/', {\n\t\t\ttemplateUrl: 'templates/main.html',\n\t\t\tcontroller: 'userController'\n\t\t});\n\n\t\t$routeProvider.when('/view/:id', {\n\t\t\ttemplateUrl: 'templates/show_post.html',\n\t\t\tcontroller: 'showController'\n\t\t});\n\n\t\t$routeProvider.when('/comment/:id', {\n\t\t\ttemplateUrl: 'templates/comment.html',\n\t\t\tcontroller: 'commentController',\n\t\t\tauthenticated: true\n\t\t});\n\n\t\t$routeProvider.when('/login', {\n\t\t\ttemplateUrl: 'templates/login.html',\n\t\t\tcontroller: 'userController'\n\t\t});\n\n\t\t$routeProvider.when('/logout', {\n\t\t\ttemplateUrl: 'templates/logout.html',\n\t\t\tcontroller: 'userController'\n\t\t})\n\n\t\t$routeProvider.when('/post', {\n\t\t\ttemplateUrl: 'templates/post.html',\n\t\t\tcontroller: 'userController',\n\t\t\tauthenticated: true\n\t\t});\n\n\t\t$routeProvider.when('/post/:id', {\n\t\t\ttemplateUrl: 'templates/editPost.html',\n\t\t\tcontroller: 'editController',\n\t\t\tauthenticated: true\n\n\t\t});\n\n\t\t$routeProvider.otherwise('/');\n\t}\n\n\t]);\n\nsynco.run([\"$rootScope\", \"$location\", 'userModel',\n\tfunction($rootScope, $location, userModel) {\n\t\t$rootScope.$on(\"$routeChangeStart\",\n\t\t\tfunction(event, next, current) {\n\t\t\t\tif (next.$$route.originalPath == '/logout') {\n\t\t\t\t\tif(!userModel.getAuthStatus()) {\n\t\t\t\t\t\t$location.path(current.$$route.originalPath);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (next.$$route.authenticated) {\n\t\t\t\t\tif (!userModel.getAuthStatus()) {\n\t\t\t\t\t\t$location.path('/login');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (next.$$route.originalPath == '/login') {\n\t\t\t\t\tconsole.log('login page');\n\t\t\t\t\tif (userModel.getAuthStatus()) {\n\t\t\t\t\t\t$location.path(current.$$route.originalPath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t}\t\n]);"],"sourceRoot":"/source/"}